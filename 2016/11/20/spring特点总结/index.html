<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Spring特点总结 | 无题</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Spring特点总结</h1><a id="logo" href="/.">无题</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/JVM/"><i class="fa fa-archive"> JVM</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Spring特点总结</h1><div class="post-meta">Nov 20, 2016</div><div class="post-content"><p>IOC与AOP<br><a id="more"></a></p>
<h2 id="什么是IoC？"><a href="#什么是IoC？" class="headerlink" title="什么是IoC？"></a>什么是IoC？</h2><p>  我们先来看一下比较官方的解释。</p>
<h4 id="IoC，Inversion-of-Control的缩写，中文名称为控制反转，意思是将对象的控制权转移至第三方，例如IoC容器，即可由IoC容器来管理对象的生命周期、依赖关系等。"><a href="#IoC，Inversion-of-Control的缩写，中文名称为控制反转，意思是将对象的控制权转移至第三方，例如IoC容器，即可由IoC容器来管理对象的生命周期、依赖关系等。" class="headerlink" title="IoC，Inversion of Control的缩写，中文名称为控制反转，意思是将对象的控制权转移至第三方，例如IoC容器，即可由IoC容器来管理对象的生命周期、依赖关系等。"></a>IoC，Inversion of Control的缩写，中文名称为控制反转，意思是将对象的控制权转移至第三方，例如IoC容器，即可由IoC容器来管理对象的生命周期、依赖关系等。</h4><p> 回到我们所说的IoC，首先我们需要肯定的是IoC并不是特指某种技术，而是指一种思想或者说一种设计模式。我们可以简单的理解为我们在进行程序业务逻辑的编程时通常需要大量的对象来协作完成，而这些对象都需要我们通过类似如下语句</p>
<p>Object object=new Object();//对象申请</p>
<p>object.setName(“XXX”);//对象属性初始化赋值<br>的方式申请和初始化，而这些就是所谓的对象的控制权，IoC设计模式的目的就是把这些对象的控制权转移至第三方，由第三方来进行和管理类似对象申请、初始化、销毁对象的控制权工作。</p>
<p>  对于开发者来说，对象的控制权的转移意味着我们编程将更加简便，不用再去关心如何申请、初始化对象，甚至是管理对象、销毁等复杂的过程，这些都将由第三方完成，只需要告诉第三方我需要怎样的对象使用即可。</p>
<p>  这里还需要解释一个概念，所谓的IoC容器，就是实现了IoC设计模式的框架。</p>
<p>Spring IoC实现了IoC设计模式，所以是IoC容器。所以，Spring IoC主要任务就是创建并且管理JavaBean的生命周期，即之前提到的对象的控制权。</p>
<p>  那么对于Spring而言，JavaBean的生命周期包括哪些方面呢？这是我们下一个需要了解的问题。</p>
<p>Spring IoC的JavaBean的生命周期</p>
<p>（1）实例化JavaBean：Spring IoC容器实例化JavaBean</p>
<p>（2）初始化JavaBean：Spring IoC容器对JavaBean通过注入依赖进行初始化</p>
<p>（3）使用JavaBean：基于Spring应用对JavaBean实例的使用</p>
<p>（4）销毁JavaBean：Spring IoC容器销毁JavaBean实例</p>
<h2 id="什么是AOP？"><a href="#什么是AOP？" class="headerlink" title="什么是AOP？"></a>什么是AOP？</h2><p>官方解释</p>
<p>  我们先来看一下比较官方的解释。</p>
<h4 id="AOP，Aspect-Oriented-Programming的缩写，意为面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。"><a href="#AOP，Aspect-Oriented-Programming的缩写，意为面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。" class="headerlink" title="AOP，Aspect Oriented Programming的缩写，意为面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。"></a>AOP，Aspect Oriented Programming的缩写，意为面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。</h4><p>回到代码层面，关于AOP我在网上博文中发现了这样一句话：运行时，动态地将代码切入到类的指定方法或者指定位置。是不是豁然开朗了呢？</p>
<p>  这里还想强调一下运行时和动态两个点，运行时不难理解，如果在程序非运行时我们只要将代码写入指定位置再运行就好了，而程序运行时，代码就无法进行更改了，这也体现了不修改源代码的意义；动态这个概念我们可以这样理解，切入的过程并非是事先完成好的，而是在程序运行过程中触发了某个时机而进行的。<br>  <br>此处介绍几个概念，便于读者理解：
  
  </p>
<h5 id="通知（advice）：切入到类指定方法或者指定位置的代码片段，即需要增加的功能代码，也就是上述的那片火腿（临时会议）。"><a href="#通知（advice）：切入到类指定方法或者指定位置的代码片段，即需要增加的功能代码，也就是上述的那片火腿（临时会议）。" class="headerlink" title="通知（advice）：切入到类指定方法或者指定位置的代码片段，即需要增加的功能代码，也就是上述的那片火腿（临时会议）。"></a>通知（advice）：切入到类指定方法或者指定位置的代码片段，即需要增加的功能代码，也就是上述的那片火腿（临时会议）。</h5><h5 id="连接点（join-point）：程序运行过程中能够进行插入切面操作的时间点。例如方法调用、异常抛出或字段修改等，可以理解为上述的长面包（老板的整个日程安排）。"><a href="#连接点（join-point）：程序运行过程中能够进行插入切面操作的时间点。例如方法调用、异常抛出或字段修改等，可以理解为上述的长面包（老板的整个日程安排）。" class="headerlink" title="连接点（join point）：程序运行过程中能够进行插入切面操作的时间点。例如方法调用、异常抛出或字段修改等，可以理解为上述的长面包（老板的整个日程安排）。"></a>连接点（join point）：程序运行过程中能够进行插入切面操作的时间点。例如方法调用、异常抛出或字段修改等，可以理解为上述的长面包（老板的整个日程安排）。</h5><h5 id="切入点（pointcut）：描述一个通知将被切入的一系列连接点的集合，即代码片段具体切入到哪些类、哪些方法，也就是上述面包切口处（特指午后的日程）。所以说，切入点规定了哪些连接点可以执行哪些通知。"><a href="#切入点（pointcut）：描述一个通知将被切入的一系列连接点的集合，即代码片段具体切入到哪些类、哪些方法，也就是上述面包切口处（特指午后的日程）。所以说，切入点规定了哪些连接点可以执行哪些通知。" class="headerlink" title="切入点（pointcut）：描述一个通知将被切入的一系列连接点的集合，即代码片段具体切入到哪些类、哪些方法，也就是上述面包切口处（特指午后的日程）。所以说，切入点规定了哪些连接点可以执行哪些通知。"></a>切入点（pointcut）：描述一个通知将被切入的一系列连接点的集合，即代码片段具体切入到哪些类、哪些方法，也就是上述面包切口处（特指午后的日程）。所以说，切入点规定了哪些连接点可以执行哪些通知。</h5><h5 id="切面（aspect）：AOP中的切面等同于OOP中的类（class），由通知（advice）和切入点（pointcut）组成，其中通知（advice）和切入点（pointcut）既可以是1对1的关系，也可以是1对多的关系。概括的说就是描述了何时何地干何事的基本单元，其中通知（advice）说明了切面干何事，而切入点则说明了切面何时何地切入。"><a href="#切面（aspect）：AOP中的切面等同于OOP中的类（class），由通知（advice）和切入点（pointcut）组成，其中通知（advice）和切入点（pointcut）既可以是1对1的关系，也可以是1对多的关系。概括的说就是描述了何时何地干何事的基本单元，其中通知（advice）说明了切面干何事，而切入点则说明了切面何时何地切入。" class="headerlink" title="切面（aspect）：AOP中的切面等同于OOP中的类（class），由通知（advice）和切入点（pointcut）组成，其中通知（advice）和切入点（pointcut）既可以是1对1的关系，也可以是1对多的关系。概括的说就是描述了何时何地干何事的基本单元，其中通知（advice）说明了切面干何事，而切入点则说明了切面何时何地切入。"></a>切面（aspect）：AOP中的切面等同于OOP中的类（class），由通知（advice）和切入点（pointcut）组成，其中通知（advice）和切入点（pointcut）既可以是1对1的关系，也可以是1对多的关系。概括的说就是描述了何时何地干何事的基本单元，其中通知（advice）说明了切面干何事，而切入点则说明了切面何时何地切入。</h5><h5 id="关于几者的关系，我们可以这样理解，通知是在连接点上执行的，但是我们不希望通知应用到所有的连接点，所以引入了切入点来匹配特定的连接点，指名我们所希望通知应用的连接点。"><a href="#关于几者的关系，我们可以这样理解，通知是在连接点上执行的，但是我们不希望通知应用到所有的连接点，所以引入了切入点来匹配特定的连接点，指名我们所希望通知应用的连接点。" class="headerlink" title="关于几者的关系，我们可以这样理解，通知是在连接点上执行的，但是我们不希望通知应用到所有的连接点，所以引入了切入点来匹配特定的连接点，指名我们所希望通知应用的连接点。"></a>关于几者的关系，我们可以这样理解，通知是在连接点上执行的，但是我们不希望通知应用到所有的连接点，所以引入了切入点来匹配特定的连接点，指名我们所希望通知应用的连接点。</h5><h5 id="因此，所谓的AOP（面向切面编程）就是在程序运行过程中的某个时机将代码片段插入到某些类的指定方法和指定位置；换句话说，秘书接到临时会议通知时，将临时会议插入到老板的日程安排中去。"><a href="#因此，所谓的AOP（面向切面编程）就是在程序运行过程中的某个时机将代码片段插入到某些类的指定方法和指定位置；换句话说，秘书接到临时会议通知时，将临时会议插入到老板的日程安排中去。" class="headerlink" title="因此，所谓的AOP（面向切面编程）就是在程序运行过程中的某个时机将代码片段插入到某些类的指定方法和指定位置；换句话说，秘书接到临时会议通知时，将临时会议插入到老板的日程安排中去。"></a>因此，所谓的AOP（面向切面编程）就是在程序运行过程中的某个时机将代码片段插入到某些类的指定方法和指定位置；换句话说，秘书接到临时会议通知时，将临时会议插入到老板的日程安排中去。</h5><p>  为什么要使用AOP？</p>
<p>  程序的最终目的就是实现业务，但是我们在进行编程的过程中经常会发现除了所谓的业务代码，还存在数量相当的公共代码，类似日志、安全验证、事物、异常处理等问题。这部分代码重要但是与我们编写程序要实现的功能没有关系，具有功能相似、重用性高、使用场景分散等特点。我们姑且称它们为共性问题。<br>  <br>  对大多数程序而言，代码都是以纵向结构将各个业务模块串联从而完成功能的。我们提到的共性问题本身不属于业务范围，但是又散落在各个业务模块间，同实现主功能的代码相互杂糅在一起，即如下图所示：</p>
<p>AOP程序逻辑图</p>
<p> 试想一下，如果将共性问题部分的代码融入业务代码中，一旦涉及到对某个共性问题部分的代码进行更改的时候，例如日志部分发生需求变更，我们可能需要牵涉许许多多其他模块代码。这在小规模程序中也许是可以接受的，可能只修改1、2处；但是如果牵涉的地方数量过多，特别是应用在中大型规模程序中，我们甚至会为了小小的一个功能，修改上千、上万处。这样的方式是十分糟糕的，不仅费时费力，可能还会引起一些不必要的麻烦（回归错误、结构混乱等等）。</p>
<h5 id="AOP的就是为了解决这类共性问题，将散落在程序中的公共部分提取出来，以切面的形式切入业务逻辑中，使程序员只专注于业务的开发，从事务提交等与业务无关的问题中解脱出来。"><a href="#AOP的就是为了解决这类共性问题，将散落在程序中的公共部分提取出来，以切面的形式切入业务逻辑中，使程序员只专注于业务的开发，从事务提交等与业务无关的问题中解脱出来。" class="headerlink" title="AOP的就是为了解决这类共性问题，将散落在程序中的公共部分提取出来，以切面的形式切入业务逻辑中，使程序员只专注于业务的开发，从事务提交等与业务无关的问题中解脱出来。"></a>AOP的就是为了解决这类共性问题，将散落在程序中的公共部分提取出来，以切面的形式切入业务逻辑中，使程序员只专注于业务的开发，从事务提交等与业务无关的问题中解脱出来。</h5><h2 id="AOP的好处"><a href="#AOP的好处" class="headerlink" title="AOP的好处"></a>AOP的好处</h2><h5 id="解耦：AOP将程序中的共性问题进行了剥离，毫无疑问地降低了各个业务模块和共性问题之间的耦合。"><a href="#解耦：AOP将程序中的共性问题进行了剥离，毫无疑问地降低了各个业务模块和共性问题之间的耦合。" class="headerlink" title="解耦：AOP将程序中的共性问题进行了剥离，毫无疑问地降低了各个业务模块和共性问题之间的耦合。"></a>解耦：AOP将程序中的共性问题进行了剥离，毫无疑问地降低了各个业务模块和共性问题之间的耦合。</h5><h5 id="重用性：共性问题散落于业务逻辑的各处，十分难维护，使用AOP进行提取后，能够将相似功能的共性问题收敛，减少重复代码，提高了代码的重用性。"><a href="#重用性：共性问题散落于业务逻辑的各处，十分难维护，使用AOP进行提取后，能够将相似功能的共性问题收敛，减少重复代码，提高了代码的重用性。" class="headerlink" title="重用性：共性问题散落于业务逻辑的各处，十分难维护，使用AOP进行提取后，能够将相似功能的共性问题收敛，减少重复代码，提高了代码的重用性。"></a>重用性：共性问题散落于业务逻辑的各处，十分难维护，使用AOP进行提取后，能够将相似功能的共性问题收敛，减少重复代码，提高了代码的重用性。</h5><h5 id="拓展性：对于一个程序而言，迭代的重心一定在于业务和功能上。AOP使得每当发生变更时，可以只关注业务逻辑相关的代码，而减少共性问题上带来的变化，大大降低了程序未来拓展的成本。"><a href="#拓展性：对于一个程序而言，迭代的重心一定在于业务和功能上。AOP使得每当发生变更时，可以只关注业务逻辑相关的代码，而减少共性问题上带来的变化，大大降低了程序未来拓展的成本。" class="headerlink" title="拓展性：对于一个程序而言，迭代的重心一定在于业务和功能上。AOP使得每当发生变更时，可以只关注业务逻辑相关的代码，而减少共性问题上带来的变化，大大降低了程序未来拓展的成本。"></a>拓展性：对于一个程序而言，迭代的重心一定在于业务和功能上。AOP使得每当发生变更时，可以只关注业务逻辑相关的代码，而减少共性问题上带来的变化，大大降低了程序未来拓展的成本。</h5><p>试想一下，如果将共性问题部分的代码融入业务代码中，一旦涉及到对某个共性问题部分的代码进行更改的时候，例如日志部分发生需求变更，我们可能需要牵涉许许多多其他模块代码。这在小规模程序中也许是可以接受的，可能只修改1、2处；但是如果牵涉的地方数量过多，特别是应用在中大型规模程序中，我们甚至会为了小小的一个功能，修改上千、上万处。这样的方式是十分糟糕的，不仅费时费力，可能还会引起一些不必要的麻烦（回归错误、结构混乱等等）。</p>
<p>  AOP的就是为了解决这类共性问题，将散落在程序中的公共部分提取出来，以切面的形式切入业务逻辑中，使程序员只专注于业务的开发，从事务提交等与业务无关的问题中解脱出来。</p>
</div><div class="tags"><a href="/tags/Spring探究/">Spring探究</a></div><div class="post-nav"><a class="pre" href="/2016/12/03/TreeMap源码剖析/">TreeMap源码剖析</a><a class="next" href="/2016/11/15/JVM GC要点整理与总结/">JVM GC要点整理与总结</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/JDK探究/" style="font-size: 15px;">JDK探究</a> <a href="/tags/分布式系统/" style="font-size: 15px;">分布式系统</a> <a href="/tags/Spring探究/" style="font-size: 15px;">Spring探究</a> <a href="/tags/读书笔记/" style="font-size: 15px;">读书笔记</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/07/软负载中心与集中配置管理/">软负载中心与集中配置管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/25/消息中间件的设计与实践/">消息中间件的设计与实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/11/分布式系统幂等性解决方案/">分布式系统幂等性解决方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/读《毛选》第二卷《苏联利益与人类利益相一致》，看毛泽东如何给斯大林强势洗地/">读《毛选》第二卷《苏联利益与人类利益相一致》，看毛泽东如何给斯大林强势洗地</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/18/读内藤树作品《青年们，读马克思吧》/">读内藤树作品《青年们，读马克思吧》</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/18/分布式事务通用解决方案/">分布式事务通用解决方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/14/线程安全与锁优化/">线程安全与锁优化——深入理解JVM阅读笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/13/Java并发编程：volatile关键字解析/">Java并发编程：volatile关键字解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/11/事务的四大特性以及事务的四种隔离级别/">事务的四大特性以及事务的四种隔离级别</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/10/悲观锁与乐观锁与事务/">悲观锁与乐观锁与事务</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">无题.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>